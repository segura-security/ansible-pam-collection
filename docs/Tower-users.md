# Using Segura® PAM Ansible Collection with Ansible Tower

We recomends creating an "Custom Credential Type" to store Segura® A2A OAuth2 tokens used by modules.


## Installation

In your Ansible Tower instance, logged with administrator user

1. Click on Credential Types option in menu, under Administration section
2. Click the green button to add new Custom Credential Type
3. Set the name of your custom credential type, e.g "Segura® A2A"
4. Optionally set an description, e.g "Segura® for Ansible AWX"
5. Under "Input Configuration" select "YAML" format and paste content in file [Tower-input-configuration.yaml](https://github.com/segura-security/ansible-pam-collection/blob/main/docs/Tower-input-configuration.yaml)
6. Under "Injector Configuration" select "YAML" format and paste content in file [Tower-injector-configuration.yaml](https://github.com/segura-security/ansible-pam-collection/blob/main/docs/Tower-injector-configuration.yaml)


## Usage

1. Create a credential using the Custom Credential Type generated above and place the OAuth2 tokens generated by Segura® A2A.

2. Link the credential with the desired Job Template.

3. Run Job Template.
